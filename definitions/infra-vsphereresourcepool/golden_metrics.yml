numberOfVmsInThisPool:
  title: Number of VMs in this pool
  queries:
    newRelic:
      select: average(vsphere.resourcePool.vmCount)
      from: Metric
      eventId: entity.guid
      eventName: entity.name
    newRelicSample:
      select: average(vmCount)
      from: VSphereResourcePoolSample
      eventId: entityGuid
      eventName: entityName
aggregatedCpuUsage:
  title: Aggregated CPU usage (%)
  queries:
    newRelic:
      select: average(vsphere.resourcePool.cpu.overallUsage)
      from: Metric
      eventId: entity.guid
      eventName: entity.name
    newRelicSample:
      select: average(cpu.overallUsage)
      from: VSphereResourcePoolSample
      eventId: entityGuid
      eventName: entityName
aggregatedMemoryUsage:
  title: Aggregated memory usage (%)
  queries:
    newRelic:
      select: sum(vsphere.resourcePool.mem.usage) * 100 / sum(vsphere.resourcePool.mem.free + vsphere.resourcePool.mem.usage)
      from: Metric
      eventId: entity.guid
      eventName: entity.name
    newRelicSample:
      select: sum(mem.usage) * 100 / sum(mem.free + mem.usage)
      from: VSphereResourcePoolSample
      eventId: entityGuid
      eventName: entityName
